#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int getComputerChoice();
int getPlayerChoice();
string displayChoice(int);
void findWinner(int,int);

const int ROCK = 1, PAPER = 2, SCISSORS = 3;

int main()
{
	int computerChoice, playerChoice;
	
	unsigned seed = time(0); // get time()
	srand(seed) // use it to seed the random number generator
	do {
		//get computer's choice
		computerChoice = getComputerChoice();
		
		//get user's choice
		playerChoice = getPlayerChoice;
		
		if (playerChoice > 0) {
		//display computer choice
		cout << "Computer chose " << displayChoice(computerChoice)
			 << " and you chose " << displayChoice(playerChoice) << "." << endl;
		
		// compare winner
		findWinner(computerChoice, playerChoice);
		}
	} while (playerChoice > 0);
	
	return 0;
}

int getComputerChoice() {
	return static_cast<int>(rand() % 3 + 1)
}

int getPlayerChoice () {
	int choice;
	cout << "\nChoose: "
		 << "\n       1. Rock."
		 << "\n       2. Paper."
		 << "\n       3. Scissors."
		 << "\n(1-3) Enter zero to quit: ";
		 
	cin >> choice;
	
	while (choice < 0 || choice > 3) {
		cout << "\nInvalid selection";
			 << "\nChoose: "
			 << "\n       1. Rock."
			 << "\n       2. Paper."
			 << "\n       3. Scissors."
			 << "\n(1-3) Enter zero to quit: ";
			 
	cin >> choice;
	}
	return choice;
}

string displayChoice (int choice) {
	
	switch (choice) {
		case ROCK: 
			return "ROCK";
			break;
		case PAPER:
			return "PAPER";
			break;
		case scissors:
			return "SCISSORS";
	}
}

void findWinner (int computer, int player) {
	if (player == computer) {
		cout << "It's a tie! Please play a tiebreaker!\n";
	} else {
		switch (computer) {
			case ROCK:
				if(player == SCISSORS) {cout << "Computer wins.\n";}
				else if(player == PAPER) {cout << "Player wins.\n";}
				break;
			case PAPER:
				if(player == ROCK) {cout << "Computer wins.\n";}
				else if(player == SCISSORS) {cout << "Player wins.\n";}
				break;
			case SCISSORS:
				if(player == PAPER) {cout << "Computer wins.\n";}
				else if(player == ROCK) {cout << "Player wins.\n";}
				break;
		}
	}
}